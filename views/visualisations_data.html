<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <!-- Meta, title, CSS, favicons, etc. -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Analytics Pro</title>



  <!-- Bootstrap CSS CDN -->
  <link rel="stylesheet" href="../build/css/bootstrap.min.css">
  <!-- Scrollbar Custom CSS -->
  <link rel="stylesheet" href="../build/css/jquery.mCustomScrollbar.min.css">

  <!-- Font Awesome -->
  <link href="../vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <!-- NProgress -->
  <link href="../vendors/nprogress/nprogress.css" rel="stylesheet">

  <!-- Libraries CSS Files -->
  <link href="lib/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <link href="lib/animate/animate.min.css" rel="stylesheet">
  <link href="lib/ionicons/css/ionicons.min.css" rel="stylesheet">
  <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
  <link href="lib/lightbox/css/lightbox.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="../build/css/pikaday.css">

  <!-- Custom Theme Style -->
  <link href="../build/css/custom.min.css" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">

  <!--Progress bar-->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <!-- jQuery Custom Scroller CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.concat.min.js"></script>


  <link href="../build/css/fSelect.css" rel="stylesheet">
  <link href="../build/css/model.css" rel="stylesheet">
  <link href="../build/css/slider.css" rel="stylesheet">
  <link href="../build/css/style3.css" rel="stylesheet">



</head>

<body onload="show()">

  <div class="wrapper">
    <!-- Sidebar Holder -->
    <nav id="sidebar">
      <div id="dismiss">
        <i class="glyphicon glyphicon-arrow-left"></i>
      </div>

      <div class="sidebar-header">
        <h3>Analytics Pro</h3>
      </div>

      <ul class="list-unstyled components">
        <li class="active">
          <a href="#pageSubmenu" data-toggle="collapse" aria-expanded="false">Data Visualization</a>
          <ul class="collapse list-unstyled" id="pageSubmenu">
            <li><a href="/charts">Learning Data Visualization</a>
            </li>
            <li class="active">
              <a href="#pageSubmenu1" data-toggle="collapse" aria-expanded="false">Dynamic Data Visualization</a>
              <ul class="collapse list-unstyled" id="pageSubmenu1">
                <li><a href="#" id="compare_btn">Compare</a></li>
                <li><a href="/map">Map</a></li>
                <li class="active">
                  <a href="#pageSubmenu2" data-toggle="collapse" aria-expanded="false">Detailed View</a>
                  <ul class="collapse list-unstyled" id="pageSubmenu2">
                    <li>
                      <a onclick="show()">Graphs</a>
                    </li>
                    <li>
                      <a onclick="showHeatmap()">Heat Map</a>
                    </li>
                    <li>
                      <a onclick="showPie()">Cities</a>
                    </li>
                </li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>

      <ul class="list-unstyled CTAs">
        <li><a href="/map" class="article">Back</a></li>
      </ul>
    </nav>





    <!-- Page Content Holder -->
    <div id="content">


      <header id="header" style="background-color: #2C3A47">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" id="sidebarCollapse" class="btn btn-info navbar-btn">
              <i class="glyphicon glyphicon-align-left"></i>
              <span>Menu</span>
            </button>
          </div>



          <div id="logo" class="pull-left">
            <h1><a href="/" class="scrollto">Analytics Pro</a></h1>
          </div>
        </div>

      </header><!-- #header -->
      <br><br><br><br><br>

      <div class="right_col" role="main">
        <div class="">


          <div class="clearfix"></div>

          <div class="row">


            <div id="line" class="col-md-12 col-sm-12 col-xs-12">
                <div id="myAlert" style="background-color: #d9edf7; border-color: #bce8f1;color: #31708f; text-align: justify;font-size: 12px;" class="alert alert-info fade in">
                    <a href="#" class="close" data-dismiss="alert">&times;</a>
                    <strong>Instructions!</strong> This allows you to see the temperature differences of a single country and have them
                    viewable in a line graph. <br>
                    <strong>To use:</strong><br> Please select the range years from the dropdown to see the temperature variations
                    during a period of time.
                  </div>
              <div class="x_panel">
                <div class="x_title">
                  <h2 style="margin-right: 50px">Climate Changes</h2>
                  <table style="width:30%" style="width:100%">
                    <tr>
                      <td> <label for="start">First Year :</label></td>
                      <td><input class="yearselect" type="year" id="start_year_data" name="start" value="2000"></td>
                      <br>
                      <td style="align-content: center"><label for="end"> Last Year :</label></td>
                      <td><input class="yearselect" style="width:25px" type="year" id="end_year_data" name="start"
                          value="2000"></td>
                      <td><button id="year_data" style="float: right;" type="button" class="btn btn-dark">Submit</button></td>
                    </tr>
                    <tr>
                      <td colspan="4">
                        <label>Highest Temperature:&nbsp; </label> <label id=" HYear"><span style="-webkit-text-fill-color:red"
                            id="HighTem"></span></label>
                      </td>
                      <td colspan="4">
                        <label>Hottest Month:&nbsp; </label><label id=" HMonth"><span style="-webkit-text-fill-color: red" id="HighTemMon"></span></label>
                      </td>
                    </tr>

                  </table>
                  <!-- <button id="cities_button" style="float: right;" type="button" class="btn btn-dark"> Cities</button> -->

                  <div class="progress">
                    <div class="progress-bar progress-bar-success" style="width: 100%" id="low" role="progressbar">
                      Low Temperature
                    </div>
                    <div class="progress-bar progress-bar-warning" style="width: 100%" id="medium" role="progressbar">
                      Medium Temperature
                    </div>
                    <div class="progress-bar progress-bar-danger" style="width: 100%" id="high" role="progressbar">
                      High Temperature
                    </div>

                  </div>



                  <ul class="nav navbar-right panel_toolbox">
                    <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                    </li>
                    <li><a class="close-link"><i class="fa fa-close"></i></a>
                    </li>
                  </ul>
                  <div class="clearfix"></div>
                </div>

                <div class="row" id="chartContent">
                  <br><br>
                  <div id="main" style="width: 700px;height:480px;" class="col-sm-6"></div>
                  <div id="textContent" style="width: 640px;height:480px;" class="col-sm-6"></div>
                </div>

                <div class="x_content">

                  <div id="echart_line" style="height:70vh;"></div>

                </div>
              </div>
            </div>


          </div>

        </div>
      </div>

    </div>
  </div>







  <!-- jQuery -->
  <script src="../vendors/jquery/dist/jquery.min.js"></script>
  <!-- Bootstrap -->
  <script src="../vendors/bootstrap/dist/js/bootstrap.min.js"></script>
  <!-- FastClick -->
  <script src="../vendors/fastclick/lib/fastclick.js"></script>
  <!-- NProgress -->
  <script src="../vendors/nprogress/nprogress.js"></script>
  <!-- ECharts -->
  <script src="../vendors/echarts/dist/echarts.min.js"></script>
  <script src="../vendors/echarts/map/js/world.js"></script>
  <script src="../build/js/custom.js"></script>
  <script src="../build/js/center-loader.js"></script>
  <script src="../build/js/year-select.js"></script>
  <script src="../build/js/visualswitch.js"></script>



  <!-- jQuery CDN -->
  <!-- Bootstrap Js CDN -->
  <script src="../build/js/bootstrap.min.js"></script>
  <!-- jQuery Custom Scroller CDN -->
  <script src="../build/js/jquery.mCustomScrollbar.concat.min.js"></script>


  <script type="text/javascript">
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#dismiss, .overlay').on('click', function () {
        $('#sidebar').removeClass('active');
        $('.overlay').fadeOut();
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar').addClass('active');
        $('.overlay').fadeIn();
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });
    });
  </script>



  <script type="text/javascript">
    $(document).ready(function (e) {
      $('.yearselect').yearselect({ end: 2013, order: 'desc' });
      // $('.yearselect').yearselect({ start: 2001, end: 2013, order: 'desc', selected: 2012 });

    });
  </script>

  <script type="text/javascript">
    $(document).ready(function () {

      var getParams = function (url) {
        var params = {};
        var parser = document.createElement('a');
        parser.href = url;
        var query = parser.search.substring(1);
        var vars = query.split('&');
        for (var i = 0; i < vars.length; i++) {
          var pair = vars[i].split('=');
          params[pair[0]] = decodeURIComponent(pair[1]);
        }
        // console.log(params);
        document.getElementById('start_year_data').value = params.start_year;
        document.getElementById('end_year_data').value = params.end_year;
        localStorage.setItem('start_year', params.start_year);
        localStorage.setItem('end_year', params.end_year);
        localStorage.setItem('selected_country', params.name);
        return params;
      };

      // Get parameters from the current URL
      var params = getParams(window.location.href);

      $('#cities_button').on('click', function (event) {
        var country_name = params.name;
        window.location.href = 'cities?name=' + country_name;
      });

      $('#year_data').on('click', function (event) {
        var start_year = $('#start_year_data').val();
        var end_year = $('#end_year_data').val();
        if (start_year > end_year) {
          alert('Last year should be greater than First year');
        } else {
          var country_name = params.name;
          // var country_name = 'India';
          localStorage.setItem('start_year', start_year);
          localStorage.setItem('end_year', end_year);

          // var param_send = {start: start_year, end: end_year, country: country_name};
          // console.log(param_send);
          window.location.href = 'visualisations_data?name=' + country_name + '&start_year=' + start_year + '&end_year=' + end_year;
        }
      });
      $('#compare_btn').on('click', function (e) {
        // var c2_id = $(this).attr('id');
        var c1 = "Brazil";
        var c2 = "Canada";
        localStorage.setItem('selected_country', c1);
        localStorage.setItem('selected_country_2', c2);
        localStorage.setItem('start_year', 2001);
        localStorage.setItem('start_year2', 2001);
        // localStorage.setItem('selected_country_2', c2);
        // var c1 = localStorage.getItem('selected_country');
        window.location.href = 'visualisations_compare?name=' + c1 + '_' + c2 + '&start_year=2001&end_year=2001';
      });
    });
  </script>
  <script>

    var alerted = localStorage.getItem('alertcoun') || '';
    if (alerted == 'yes') {
      $(".alert").alert('close')

    }
    $('#myAlert').on('closed.bs.alert', function () {
      if (alerted != 'yes') {
        localStorage.setItem('alertcoun', 'yes');
      }
    })


  </script>
  <!-- <script type="text/javascript">
// if ($('#echart_line').length) {

var echartLine = echarts.init(document.getElementById('echart_line'), theme);
var data = [];
for (key in xx.cities) {
  //console.log(xx.cities[key]);
  var obj_data = {
    name: key,
    type: 'line',
    smooth: true,
    itemStyle: {
      normal: {
        // areaStyle: {
        // type: 'none'
        // }
      }
    },
    data: xx.cities[key]
  }
  data.push(obj_data);
}


echartLine.setOption({
  title: {
    text: localStorage.getItem('selected_country'),
    subtext: 'Avg Temperature'
  },
  tooltip: {
    trigger: 'axis'
  },
  legend: {
    x: 220,
    y: 40,
    data: Object.keys(xx.cities)
  },
  toolbox: {
    show: true,
    feature: {
      magicType: {
        show: true,
        title: {
          line: 'Line',
          bar: 'Bar'

        },
        type: ['line', 'bar']
      },
      restore: {
        show: true,
        title: "Restore"
      },
      saveAsImage: {
        show: true,
        title: "Save Image"
      }
    }
  },
  calculable: true,
  xAxis: [{
    name: '\n\n\n\n\n\n\nMonths',
    type: 'category',
    boundaryGap: false,
    data: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
  }],
  yAxis: [{
    type: 'value'
  }],
  series: data

});

// }
</script> -->

  <!-- Custom Theme Scripts -->




</body>

</html>